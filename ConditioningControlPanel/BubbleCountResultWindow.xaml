<Window x:Class="ConditioningControlPanel.BubbleCountResultWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="How Many Bubbles?"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowState="Maximized"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        FontFamily="Comic Sans MS, Segoe UI">
    
    <Grid>
        <!-- Semi-transparent background -->
        <Rectangle Fill="{StaticResource OverlayBlackTransparentBrush}"/>
        
        <!-- Content Card -->
        <Border Background="{StaticResource BubbleCountBackgroundBrush}"
                CornerRadius="20"
                Padding="50"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                MinWidth="500"
                MaxWidth="600">
            <Border.Effect>
                <DropShadowEffect Color="{StaticResource PinkColor}" BlurRadius="30" ShadowDepth="0" Opacity="0.5"/>
            </Border.Effect>
            
            <StackPanel>
                <!-- Title -->
                <TextBlock Text="🫧 How Many Bubbles? 🫧"
                           FontSize="40"
                           FontWeight="Bold"
                           Foreground="{StaticResource PinkBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,20">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="{StaticResource PinkBrushColor}" BlurRadius="12" ShadowDepth="0" Opacity="0.6"/>
                    </TextBlock.Effect>
                </TextBlock>
                
                <!-- Instruction -->
                <TextBlock Text="Enter the number of bubbles you counted:"
                           FontSize="18"
                           Foreground="{StaticResource LightPinkBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,30"/>
                
                <!-- Number Input -->
                <TextBox x:Name="TxtAnswer"
                         FontSize="48"
                         FontWeight="Bold"
                         Foreground="White"
                         Background="{StaticResource TransparentWhiteBrush}"
                         BorderBrush="{StaticResource PinkBrush}"
                         BorderThickness="3"
                         Padding="20,10"
                         HorizontalAlignment="Center"
                         MinWidth="200"
                         TextAlignment="Center"
                         MaxLength="3"/>
                
                <!-- Attempts remaining -->
                <TextBlock x:Name="TxtAttempts"
                           Text="Attempts remaining: 3"
                           FontSize="16"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,20,0,0"/>
                
                <!-- Feedback -->
                <TextBlock x:Name="TxtFeedback"
                           Text=""
                           FontSize="20"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,15,0,0"
                           Visibility="Collapsed"/>
                
                <!-- Submit Button -->
                <Button x:Name="BtnSubmit"
                        Content="✓ SUBMIT"
                        FontSize="24"
                        FontWeight="Bold"
                        Foreground="White"
                        Background="{StaticResource PinkBrush}"
                        BorderThickness="0"
                        Padding="40,15"
                        Margin="0,30,0,0"
                        Cursor="Hand"
                        HorizontalAlignment="Center"
                        Click="BtnSubmit_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="10"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                
                <!-- Strict Mode Indicator -->
                <TextBlock x:Name="TxtStrict"
                           Text="🔒 STRICT MODE - Must answer correctly"
                           FontSize="14"
                           Foreground="{StaticResource WarningBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,20,0,0"
                           Visibility="Collapsed"/>
                
                <!-- ESC Hint -->
                <TextBlock x:Name="TxtEscHint"
                           Text="Press ESC to skip (won't earn XP)"
                           FontSize="12"
                           Foreground="{StaticResource DarkGrayBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,15,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
